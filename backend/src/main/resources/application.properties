spring.application.name=backend

# Server behind proxy
server.forward-headers-strategy=framework

# Datasource (Docker default: service 'db')
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:fatecmeets}?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Mail (opcional; se não configurar, o serviço loga no console)
spring.mail.host=${MAIL_HOST:}
spring.mail.port=${MAIL_PORT:0}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:false}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_TLS:false}
spring.mail.properties.mail.smtp.ssl.enable=${MAIL_SMTP_SSL:false}
spring.mail.default-encoding=UTF-8

# Remetente
app.mail.from.address=${MAIL_FROM_ADDRESS:}
app.mail.from.name=${MAIL_FROM_NAME:Fatec Meets}

app.admin.initial-email=${ADMIN_INITIAL_EMAIL:gabriel.rodrigues106@fatec.sp.gov.br}

# (Removido) Propriedades Azure OAuth2 que causavam erro quando vazias
# spring.security.oauth2.client.registration.azure.client-id=${AZURE_CLIENT_ID:}
# spring.security.oauth2.client.registration.azure.client-secret=${AZURE_CLIENT_SECRET:}
# spring.security.oauth2.client.registration.azure.scope=openid,profile,email
# spring.security.oauth2.client.provider.azure.issuer-uri=https://login.microsoftonline.com/${AZURE_TENANT_ID:common}/v2.0
